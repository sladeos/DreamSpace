@(tournament: List[Tournament], rowcount: Integer)

<!DOCTYPE html>

<html>
    <head>
        @Templates.head()
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/mainTournamentPage.css")">
        @Templates.facebookHeadScript()
    </head>
    <body>
        <div data-role="page" data-theme="b" class="page">   
            <div data-role="header" class = "header">
                @Templates.header()
                   <a id = "back" rel="external" href="/mainetournament/1" data-role="button" role="button" data-icon="back" data-iconpos="notext">Back</a>
              <script>
              $("#back").css("background","  #FF9900");
            </script>
            </div>
            <div data-role="content" class = "content" >
                  <div class = "search">
                    <h1 align="center">My Tournament</h1>
                    
                    <a data-role = "button" id = "btn"  rel="external" href="/createtournament" data-icon="arrow-r" data-iconpos="right">Create a new tournament</a>
                 
                </div>
                    
                   <div class ="MEArenaContent">
                      <hr>
                        <ul data-role="listview" data-inset="true" data-dividertheme="a" data-theme = "b"> 
                        @for(tournament <- tournament) {
                            <li  data-role = "list-divider" ></li>
                                <li><a data-role = "button" rel="external"  href="/showtournament/@tournament.tournamentID" ><img src="@routes.Assets.at("images/sun.jpg")" alt="Dreamhack" class = "fullscreen"/><h2>@{"Name: " + tournament.tournamentname}</h2> <p>@{" Size: " +  tournament.participant_count }</p></a>
                            </li>
                        } 
                    </ul>
                    <script>
                        $("#btn").css("background","  #FF9900");
                    </script>
                </div>
                 @Templates.navIcons()
                <script>
            
            
            var rowcount = @rowcount;
            var pageDecimal = rowcount / 10;
            var pages = Math.ceil(pageDecimal);
            $(document).ready(function() {
              if (pages > 1) {
                $("#pagebuttons").append(pages + " Pages " + rowcount + " Results");
              }
              else {
                $("#pagebuttons").append(pages + " Page " + rowcount + " Results");
              }
            })


            var afterEquals = window.location.href.split("=").pop();
            var currentAdress = window.location.href;
            var afterSlash = currentAdress.substring(0, currentAdress.lastIndexOf("/") + 1);
			var beforeLastEquals = currentAdress.slice(0, currentAdress.lastIndexOf("=")+1);
			$(function() {
				var afterEqual = window.location.href.split("=").pop();
	            if (afterEqual > pages){
	            	beforeLastEquals += pages
	            	document.location.href = beforeLastEquals
	            }else if(afterEqual >=1){
	            $('#currentPage').append("Current Page " + afterEqual);
	            	}else{
	            	  $('#currentPage').append("Current Page " + "1");
	            	}
	            
            })

            $('#prev').click(function() {
              if (beforeLastEquals.includes("page")) {
                
                if (afterEquals == 1) {
                  alert("You're on the first page")
                  return
                }
                afterEquals--;
                beforeLastEquals += afterEquals;
                document.location.href = beforeLastEquals
              }
              else {
                alert("You're on the first page")
              }
            })

            $('#next').click(function() {
              if (beforeLastEquals.includes("page")) {
                if (afterEquals >= pages) {
                  alert("You're on the last page")
                  return;
                }
                afterEquals++;
                beforeLastEquals += afterEquals;
                document.location.href = beforeLastEquals
              }else {
            	 beforeLastEquals += "?page=2"
                document.location.href = beforeLastEquals;
              }

            })


            $('#first').click(function(){
            	if(afterEquals == 1){
            		alert("You're on the first page")
            		return
            	}
            	 if (beforeLastEquals.includes("page")) {
            		 beforeLastEquals += 1;
                     document.location.href = beforeLastEquals
            	 }else{
            		 alert("You're on the first page")
            	 }

            })

            $('#last').click(function() {
                if (beforeLastEquals.includes("page")) {
                    if (afterEquals == pages) {
                      alert("You're on the last page")
                      return;
                    }                    
                    beforeLastEquals += pages;
                    document.location.href = beforeLastEquals
                  } else {
                	 beforeLastEquals += "?page="+pages
                    document.location.href = beforeLastEquals;
                  }

                })
            </script>
            </div>
            @Templates.footer()
            @Templates.panelAndLogOut()

        </div>

    </body>
</html>