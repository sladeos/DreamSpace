@(eAd: EArenaAd, eAdReplies: List[AdReply])
<!DOCTYPE html>
<html>
   <head>
      <title>Edit your EArena Ad</title>
      @Templates.head()
      @Templates.facebookHeadScript()
      <meta charset="UTF-8">
   </head>
   <body>
      <div data-role="page" data-theme="b" id = "main" class = "page"  >
         @Templates.header()
         <div data-role="content" class = "content">
            <h1 align="center">Edit your EArena Ad</h1>
            <input type='button' id='edittournament' value='Edit Tournament'>
            <div id="editad" style="display: none;">
               <div data-role="fieldcontain"class="ui-hide-label">
                  <label for="arenaName">Arena Ad Name:</label>
                  <input type="text" name="arenaName" id="arenaName" value="@eAd.arenaName" placeholder="Arena Ad Name"/>
               </div>
               <div data-role="fieldcontain" class="ui-hide-label">
                  <label for="gameName" >Game:</label>
                  <input type="text" name="gameName" id="game" value="@eAd.gameName" placeholder="Game "/>
               </div>
               <div data-role="fieldcontain" class="ui-hide-label">
                  <label for="playersRequired" >Players Required:</label>
                  <input type="number" min="1" max="100" name="playersRequired" id="playersRequired" value="@eAd.playersRequired" placeholder="Players Required"/>
               </div>
               <div data-role="fieldcontain" class="ui-hide-label">
                  <textarea placeholder="Enter some information about your ad here!" name="information" id="informationArea" rows="4" cols="50"  >@eAd.information</textarea>
               </div>
               <div style="display: none;">
                  <input type="id" name="id" id="id" value="@eAd.arenaID"/>
               </div>
               <button  class = "my-btn"  id="updateearena"  value="Update EArena Ad" onclick="return validate()">Update EArena Ad </button>
               <p id="warning"></p>
            </div>
            
            <script type="text/javascript">
               var adOkay = true;
                   $(function() {
               	function errorInField(){
               	 $("#warning").css('color', 'red');
                    $('#warning').prepend('<img id="redcross" src="@routes.Assets.at("images/redcross.png")" />')
                    $('#redcross').width(40);
                    $('#redcross').height(40);
                    adOkay = false;
               }
               	
               	function fieldOkay(){
               	    $("#warning").css('color', 'green');
                       $('#warning').prepend('<img id="greentick" src="@routes.Assets.at("images/greentick.png")" />')
                       $('#greentick').width(40);
                       $('#greentick').height(40);
                       adOkay = true;
               		
               	}
               
               $('#arenaName').change(function() {
                if( $('#arenaName').val().length <3){
               	 $("#warning").html('Arena Name is too short! Please enter a minimum of 3 characters');
               	errorInField()
                       return;
                }else{
                    $("#warning").html("Arena name is okay!");
                 fieldOkay()
                 
                }
               })
                
                $('#informationArea').change(function() {
                  	 if( $('#informationArea').val().length <4){
                  		 $("#warning").html('Information provided is not enough!');
                  		errorInField()
                           return;
                  	 }else{
                  $("#warning").html("Information provided is okay!");
               fieldOkay()
               }
               
               })
                   })
               

               function errorInField(){
                	 $("#warning").css('color', 'red');
                     $('#warning').prepend('<img id="redcross" src="@routes.Assets.at("images/redcross.png")" />')
                     $('#redcross').width(40);
                     $('#redcross').height(40);
                }
               
                  function validate() {
                	   var blnValid = true;
               
                	   if (isBlank("arenaName")) {
                	     blnValid = false;
                	     $("#warning").html('Please enter a name for your EArena Ad!');
                	     errorInField()
                	     document.getElementById("arenaName").focus();
                	   }
                	   if (blnValid) {
                	     if (isBlank("game")) {
                	       blnValid = false;
                	       $("#warning").html('Please enter the name of your game!');
                	       errorInField()
                	       document.getElementById("game").focus();
                	     }
                	   }
                	   if (blnValid) {
                	     if (isBlank("playersRequired")) {
                	       blnValid = false;
                	       $("#warning").html('Please provide the amount of players you are lookng for! Numbers only!');
                	       errorInField()
                	       document.getElementById("playersRequired").focus();
                	     }
                	   }
               
                	   if (blnValid) {
                	     if (isBlank("informationArea")) {
                	       blnValid = false;
                	       $("#warning").html('Please provide some information about your ad!');
                	       errorInField()
                	       document.getElementById("informationArea").focus();
                	     }
                	   }
               if(blnValid){
               send()               
               }else{
                	   return blnValid;
               }
                	 }
               
                	 function isBlank(elementID) {
                	   if (document.getElementById(elementID).value.length == 0) {
                	     return true;
                	   }
               
                	   return false;
                	 }
                
                
            
               function send() {
                  if(adOkay){
                      $("#warning").html('');
                      $("#warning").css('color', 'green');
                      $('#warning').prepend('<img id="greentick" src="@routes.Assets.at("images/greentick.png")" />')
                      $('#greentick').width(40);
                      $('#greentick').height(40);
                      $('#editad').toggle('show');
               
                 var data = {"arenaName":$('#arenaName').val(), "information":$('#informationArea').val(),"gameName":$('#game').val(),"playersRequired":$('#playersRequired').val(),"id":$('#id').val()};
                    $.ajax({
                          url: "/updateearenaad",
                          type: 'POST',
                          contentType:'application/json',
                          data: JSON.stringify(data),
                          dataType : 'html',
                          success: function(data ){
                        	  
                          	location.reload();
                          }
                      });
                  }else{
                  	
                  	 $("#warning").html("There are errors in your Ad! Fix them and try again.");
                  	 $("#warning").css('color', 'red');
                       $('#warning').prepend('<img id="redcross" src="@routes.Assets.at("images/redcross.png")" />')
                       $('#redcross').width(40);
                       $('#redcross').height(40);
               
                  }
               }

            

               $(document).ready(function(){
               
                  $('#edittournament').click(function() {        
                       $('#editad').toggle('show');
                  });
                           
               });
            </script>
            
            <div id="adinfo">
               id: @eAd.arenaID
               <br>
               Name of Ad: @eAd.arenaName
               <br>
               Creator name: @eAd.admin
               <br>
               Name of Game: @eAd.gameName
               <br>
               Information about Ad: @eAd.information
               <br>
               Amount of Players Required: @eAd.playersRequired
               <br>
            </div>
            <div id="adreplies">
               @for(eAdReplies <- eAdReplies) {
               <li>@{"User who replied: " + eAdReplies.user +" Reply content: " + eAdReplies.content}</li>
               } 
               </ul>
            </div>
            <div id="replyfielddiv">
               <label for="reply">Reply:</label>
               <textarea placeholder="Post your reply here" name="reply" id="replyarea" rows="4" cols="50"></textarea>
               <input type="submit" id="postreply" value="Submit Reply" >
               <p id="warningreply"></p>
            </div>
            <script>
               $("#postreply").click(function() {
                   if($('#replyarea').val().length >2){
               
                  var data = {"contents":$("#replyarea").val(), "adID": "@eAd.arenaID"};
               
                     $.ajax({
                           url: "/postreply",
                           type: 'POST',
                           contentType:'application/json',
                           data: JSON.stringify(data),
                           dataType : 'html',
                           success: function(data ){
                           	location.reload();
                           }
                       });
                   }else{
                   	
                   	 $("#warningreply").html("There are errors in your reply! Fix them and try again.");
                   	 $("#warningreply").css('color', 'red');
                        $('#warningreply').prepend('<img id="redcross" src="@routes.Assets.at("images/redcross.png")" />')
                        $('#redcross').width(40);
                        $('#redcross').height(40);
                   	
                   }
                       });
            </script>
         </div>
         @Templates.footer()
         @Templates.panelAndLogOut()
      </div>
   </body>
</html>