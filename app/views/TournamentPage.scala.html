@(message: String)

<!DOCTYPE html>

<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="UTF-8">
        <title>DreamSpace</title>

        <!-- JQuery Mobile -->
       <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
        <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
        <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> 

        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/dreamhack-logo.png")"> 
        <script src="@routes.Assets.at("javascripts/jquery.bracket.min.js")" type="text/javascript"></script>
		<link rel="stylesheet"  href="@routes.Assets.at("stylesheets/jquery.bracket.min.css")">
    </head>
    
    <body>
    
    
    
    
    <script>
    

$(function() {
    
    generateBracket($('#amount').val());
    
    var data;
    
    function saveFn(data) {
        
    }
    
    function generateBracket(playerAmount) {
    
    var teamData = {
    teams : [] 
    };
    
    playerAmount = playerAmount /2
    
    var j = 1;
    for (i = 0; i < playerAmount; i++) { 
    teamData.teams[i] = ["Team " + j, "Team " + ++j];
    j++;
    }
    
    var container = $('#bracket')
    container.bracket({
      init: teamData,
      save: saveFn
    })
    
    $('.tools').remove();
  
    data = container.bracket('data') ;
 
    }
    
    $("#amount").change(function() {
   
    var players = Number($('#amount').val());
    
    switch(players) {
    case 4:
    generateBracket(4);
        break;
    case 8:
    generateBracket(8);
        break;
    case 16:
    generateBracket(16);
        break;
    case 32:
    generateBracket(32);
        break;
    
    }
    
    
});



$("#create").click(function() {
    
      $.ajax({
            url: "/savetournament",
            type: 'POST',
            contentType:'application/json',
            data: JSON.stringify({ tournamentInfo: data, name :  $('#fname').val(), amount: $('#amount').val() }),
            dataType : 'html',

});
});
});





        
    </script>
    
     <div data-role="page" data-theme="b" class="header-google">   

                <div data-role="header" data-position = "fixed">
                    @message
                    <h1><img src="@routes.Assets.at("images/d2.png")" class = "fullscreen"></h1>





               <div data-role="navbar" class="ui-grid-d">
                    <ul>
                        <li><a href="#" class="my-btn" class="ui-btn-active ui-state-persist">Home</a></li>
                        <li><a href="#" class="my-btn">News feed</a></li>
                        <li><a href="#" class="my-btn">EArena feed</a></li>
                        <li><a href="#bars" class = "my-btn">MyMeny</a></li>
                    </ul>
                </div>


                
        </div>
        
        <div data-role="content" >   
           
           
            <h1 align="center">Create your tournament</h1>
            You can change the name of the teams in your tournament by clicking the respective team label, you can also change the score by clicking the label after the team name. This updates the bracket.
               <div id='bracket'></div>
                <div id='bracketForm'>
                <form name="bracketGenerate" >
                Name of your tournament: <input type="text" name="fname" id="fname">
                Amount of players: 
        <select id="amount">
            <option value="4">4</option>
            <option value="8">8</option>
            <option value="16">16</option>
            <option value="32">32</option>
        </select> 
        
       
        <input type="button" value="Create" id="create">
        
        
    </form>
    
    </div>
            <!--  
            
            <div style="overflow: hidden; margin: 15px auto; max-width: 700px;">
                <iframe scrolling="no" src="http://dreamhack.se/dhs15/" style="border: 0px none; margin-left: -20px; height: 8050px; margin-top: -370px; width: 850px;">
                </iframe>
              
            </div>
            -->


        </div>
            <div data-role="footer">  


                <div data-role="controlgroup" data-type="horizontal" style = "text-align: center" class="ui-grid-a">
                     <a href="#" data-role="button" data-icon="star" id="footerB"class="my-btn">About</a>
                     <a href="#" data-role="button" data-icon="mail" id="footerB"class="my-btn">Contact</a>
                     <a href="#" data-role="button" data-icon="home" id="footerB"class="my-btn">Dreamhack.se</a>
                     <a href="#" data-role="button" data-icon="info" id="footerB"class="my-btn">Info</a>
                     <a href="#" onclick="$.mobile.silentScroll(0)" data-role="button" data-icon="arrow-u" id="footerB"class="my-btn">Up</a>
                </div>

                <h4>Â© 2015 DREAMSPACE AB</h4>

            </div>

            <div data-role="panel" id="bars" data-theme="b" data-display="overlay" Style = "max-width:75%">
              
                     <a href="#" data-role="button" data-icon="user"class="my-btn">MyProfile</a>
                     <a href="#" data-role="button" data-icon="tag"class="my-btn">MyPacklist</a>
                     <a href="#" data-role="button" data-icon="action"class="my-btn">MyEarena</a>
                     <a href="#" data-role="button" data-icon="action"class="my-btn">MyEtournament</a>
                    <button id="button1">Logout</button>
                    
                    <script>
                    
                    
                     
                        $('#button1').click(function() {
                             FB.getLoginStatus(function(response) {
                                 if (response.status === 'connected') {
                                FB.logout(function(response) {
                        	        window.location='/logout';
                        	    });
                                 } else { 
                                     window.location='/logout';
                                 }
                            });
                        });
                             
                       
                    </script>

            </div>

        </div>
    
    </body>
</html> 
